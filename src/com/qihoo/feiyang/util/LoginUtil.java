package com.qihoo.feiyang.util;import android.content.Context;import android.util.Log;import com.qihoo.feiyang.R;import com.qihoo.yunpan.sdk.android.config.YunpanEnvironment;import com.qihoo.yunpan.sdk.android.config.YunpanSDKConfig;import com.qihoo.yunpan.sdk.android.config.YunpanSDKConstants;import com.qihoo.yunpan.sdk.android.http.action.UserIntfLogin;import com.qihoo.yunpan.sdk.android.http.model.UserCenterInfo;import com.qihoo.yunpan.sdk.android.http.model.UserLoginInfo;import com.qihoo.yunpan.sdk.android.model.IYunpanInterface;import com.qihoo.yunpan.sdk.android.task.LoginYunpanAction;public final class LoginUtil {	private static String TAG = "LoginUtil";			public static void setYunDiskAuth(Context context) {    	YunpanSDKConstants.setYunpanInterface((IYunpanInterface) context);		YunpanSDKConstants.AUTH_NAME = context.getResources().getString(R.string.authName);		YunpanSDKConstants.AUTH_KEY = context.getResources().getString(R.string.authKey);		YunpanSDKConstants.AUTH_SECRET = context.getResources().getString(R.string.authSecret);    }		public static boolean login(String userName, String passwd) {		UserCenterInfo cInfo = new UserIntfLogin().login(userName, passwd, "", ""); 		if (cInfo != null && cInfo.errno != null && cInfo.errno.equals(YunpanSDKConfig.RESULT_SUCCESS) 				&& cInfo.user != null && cInfo.user.qid != null) { 			UserLoginInfo login = new LoginYunpanAction().loginYunpan(cInfo.user.qid); 			if (login != null && login.errno != null && login.errno.equals(YunpanSDKConfig.RESULT_SUCCESS)) { 				System.out.println("用户登录成功"); 				DBUtil.saveQid(cInfo.user.qid); 				return true; 			} else { 				System.out.println("用户登录失败"); 				return false; 			} 		} else { 			Log.d(TAG , cInfo.errno + "  " + cInfo.errmsg); 		} 		 		return false;	}		public static void clearUserEnvironment() {		String qid = YunpanEnvironment.Clear_YunpanEnvironment();		if (qid != null && !qid.equals("")) {			// 清除成功		}	}		public static boolean switchUserEnvironment(String qid) {		if (YunpanEnvironment.Switch_YunpanEnvironment(qid)) {	// 成功			System.out.println("switch user success");			return true;		} else {			// 失败			System.out.println("失败");			return false;		}				}	}